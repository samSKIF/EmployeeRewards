
> rest-express@1.0.0 dev
Initializing Firebase app with project ID: employee-reward-fb8ea
Using uploads directory: /home/runner/workspace/server/uploads
Creating admin user in Firebase...
Creating admin user: admin@demo.io
Admin user already exists in Firebase: uZkwsK8qLzNL8SS7z6t0husSWC33
Updated admin claims for user
Admin user setup completed
ðŸŽ‚ Scheduling birthday rewards job (daily at 08:00)
3:31:29 PM [express] serving on port 5000
Browserslist: browsers data (caniuse-lite) is 8 months old. Please run:
  npx update-browserslist-db@latest
  Why you should do it regularly: https://github.com/browserslist/update-db#readme
Custom token decode - important fields:
- sub (Firebase UID): undefined
- email: admin@canva.com
- aud (audience): undefined
- iss (issuer): undefined
Failed to verify Firebase token, trying JWT: Firebase ID token has no "kid" claim. See https://firebase.google.com/docs/auth/admin/verify-id-tokens for details on how to retrieve an ID token.
Custom token decode - important fields:
- sub (Firebase UID): undefined
- email: admin@canva.com
- aud (audience): undefined
- iss (issuer): undefined
Failed to verify Firebase token, trying JWT: Firebase ID token has no "kid" claim. See https://firebase.google.com/docs/auth/admin/verify-id-tokens for details on how to retrieve an ID token.
Custom token decode - important fields:
- sub (Firebase UID): undefined
- email: admin@canva.com
- aud (audience): undefined
- iss (issuer): undefined
Failed to verify Firebase token, trying JWT: Firebase ID token has no "kid" claim. See https://firebase.google.com/docs/auth/admin/verify-id-tokens for details on how to retrieve an ID token.
Custom token decode - important fields:
- sub (Firebase UID): undefined
- email: admin@canva.com
- aud (audience): undefined
- iss (issuer): undefined
Failed to verify Firebase token, trying JWT: Firebase ID token has no "kid" claim. See https://firebase.google.com/docs/auth/admin/verify-id-tokens for details on how to retrieve an ID token.
Custom token decode - important fields:
- sub (Firebase UID): undefined
- email: admin@canva.com
- aud (audience): undefined
- iss (issuer): undefined
Failed to verify Firebase token, trying JWT: Firebase ID token has no "kid" claim. See https://firebase.google.com/docs/auth/admin/verify-id-tokens for details on how to retrieve an ID token.
Custom token decode - important fields:
- sub (Firebase UID): undefined
- email: admin@canva.com
- aud (audience): undefined
- iss (issuer): undefined
Failed to verify Firebase token, trying JWT: Firebase ID token has no "kid" claim. See https://firebase.google.com/docs/auth/admin/verify-id-tokens for details on how to retrieve an ID token.
3:31:48 PM [express] GET /api/points/balance 304 in 382ms :: {"balance":0,"userId":11}
3:31:48 PM [express] GET /api/users/departments 304 in 378ms :: ["Engineering","Finance","HR","Inforâ€¦
3:31:48 PM [express] GET /api/users/locations 304 in 376ms :: ["London","New York","New york office"â€¦
Birthday users found: 8
Anniversary users found: 2
Total celebrations returning: 10
3:31:48 PM [express] GET /api/celebrations/today 304 in 452ms :: [{"id":2258,"user":{"id":2258,"nameâ€¦
Custom token decode - important fields:
- sub (Firebase UID): undefined
- email: admin@canva.com
- aud (audience): undefined
- iss (issuer): undefined
Failed to verify Firebase token, trying JWT: Firebase ID token has no "kid" claim. See https://firebase.google.com/docs/auth/admin/verify-id-tokens for details on how to retrieve an ID token.
Custom token decode - important fields:
- sub (Firebase UID): undefined
- email: admin@canva.com
- aud (audience): undefined
- iss (issuer): undefined
Failed to verify Firebase token, trying JWT: Firebase ID token has no "kid" claim. See https://firebase.google.com/docs/auth/admin/verify-id-tokens for details on how to retrieve an ID token.
Custom token decode - important fields:
- sub (Firebase UID): undefined
- email: admin@canva.com
- aud (audience): undefined
- iss (issuer): undefined
Failed to verify Firebase token, trying JWT: Firebase ID token has no "kid" claim. See https://firebase.google.com/docs/auth/admin/verify-id-tokens for details on how to retrieve an ID token.
Custom token decode - important fields:
- sub (Firebase UID): undefined
- email: admin@canva.com
- aud (audience): undefined
- iss (issuer): undefined
Failed to verify Firebase token, trying JWT: Firebase ID token has no "kid" claim. See https://firebase.google.com/docs/auth/admin/verify-id-tokens for details on how to retrieve an ID token.
Returning 801 users for company 1
3:31:54 PM [express] GET /api/users 200 in 6908ms :: [{"id":16,"username":"brian_lopez","name":"Briaâ€¦
/api/users/me: Returning data for user 11 (Canva Administrator, admin@canva.com)
User isAdmin value: true
3:31:54 PM [express] GET /api/points/balance 304 in 6149ms :: {"balance":0,"userId":11}
Final user object isAdmin: true
3:31:54 PM [express] GET /api/users/me 304 in 6152ms :: {"id":11,"username":"admin_canva","name":"Caâ€¦
3:31:54 PM [express] GET /api/users/departments 304 in 6157ms :: ["Engineering","Finance","HR","Infoâ€¦
3:31:54 PM [express] GET /api/users/locations 304 in 6156ms :: ["London","New York","New york officeâ€¦
3:31:55 PM [express] GET /api/celebrations/upcoming 304 in 7202ms :: [{"id":2167,"user":{"id":2167,"â€¦
Custom token decode - important fields:
- sub (Firebase UID): undefined
- email: admin@canva.com
- aud (audience): undefined
- iss (issuer): undefined
Failed to verify Firebase token, trying JWT: Firebase ID token has no "kid" claim. See https://firebase.google.com/docs/auth/admin/verify-id-tokens for details on how to retrieve an ID token.
Custom token decode - important fields:
- sub (Firebase UID): undefined
- email: admin@canva.com
- aud (audience): undefined
- iss (issuer): undefined
Failed to verify Firebase token, trying JWT: Firebase ID token has no "kid" claim. See https://firebase.google.com/docs/auth/admin/verify-id-tokens for details on how to retrieve an ID token.
Custom token decode - important fields:
- sub (Firebase UID): undefined
- email: admin@canva.com
- aud (audience): undefined
- iss (issuer): undefined
Failed to verify Firebase token, trying JWT: Firebase ID token has no "kid" claim. See https://firebase.google.com/docs/auth/admin/verify-id-tokens for details on how to retrieve an ID token.
Custom token decode - important fields:
- sub (Firebase UID): undefined
- email: admin@canva.com
- aud (audience): undefined
- iss (issuer): undefined
Failed to verify Firebase token, trying JWT: Firebase ID token has no "kid" claim. See https://firebase.google.com/docs/auth/admin/verify-id-tokens for details on how to retrieve an ID token.
/api/users/me: Returning data for user 11 (Canva Administrator, admin@canva.com)
User isAdmin value: true
Final user object isAdmin: true
3:31:55 PM [express] GET /api/users/me 304 in 153ms :: {"id":11,"username":"admin_canva","name":"Canâ€¦
Custom token decode - important fields:
- sub (Firebase UID): undefined
- email: admin@canva.com
- aud (audience): undefined
- iss (issuer): undefined
Failed to verify Firebase token, trying JWT: Firebase ID token has no "kid" claim. See https://firebase.google.com/docs/auth/admin/verify-id-tokens for details on how to retrieve an ID token.
Birthday users found: 8
Anniversary users found: 2
Total celebrations returning: 10
3:31:55 PM [express] GET /api/celebrations/today 304 in 236ms :: [{"id":2258,"user":{"id":2258,"nameâ€¦
3:31:55 PM [express] GET /api/social/stats 304 in 235ms :: {"posts":0,"comments":0,"reactions":0,"reâ€¦
Social microservice: Handling get posts request
Custom token decode - important fields:
- sub (Firebase UID): undefined
- email: admin@canva.com
- aud (audience): undefined
- iss (issuer): undefined
Failed to verify Firebase token, trying JWT: Firebase ID token has no "kid" claim. See https://firebase.google.com/docs/auth/admin/verify-id-tokens for details on how to retrieve an ID token.
Custom token decode - important fields:
- sub (Firebase UID): undefined
- email: admin@canva.com
- aud (audience): undefined
- iss (issuer): undefined
Failed to verify Firebase token, trying JWT: Firebase ID token has no "kid" claim. See https://firebase.google.com/docs/auth/admin/verify-id-tokens for details on how to retrieve an ID token.
Returning 801 users for company 1
3:32:01 PM [express] GET /api/users 304 in 6324ms :: [{"id":16,"username":"brian_lopez","name":"Briaâ€¦
Social microservice: Filtering posts for company 1 (admin@canva.com)
Social microservice: Retrieved 0 posts
3:32:01 PM [express] GET /api/social/posts 304 in 6179ms :: []
3:32:01 PM [express] GET /api/social/stats 304 in 5950ms :: {"posts":0,"comments":0,"reactions":0,"râ€¦
Custom token decode - important fields:
- sub (Firebase UID): undefined
- email: admin@canva.com
- aud (audience): undefined
- iss (issuer): undefined
Failed to verify Firebase token, trying JWT: Firebase ID token has no "kid" claim. See https://firebase.google.com/docs/auth/admin/verify-id-tokens for details on how to retrieve an ID token.
Social microservice: Handling get posts request
Social microservice: Filtering posts for company 1 (admin@canva.com)
Social microservice: Retrieved 0 posts
3:32:02 PM [express] GET /api/social/posts 304 in 226ms :: []
3:32:02 PM [express] GET /api/celebrations/upcoming 304 in 6631ms :: [{"id":2167,"user":{"id":2167,"â€¦
Custom token decode - important fields:
- sub (Firebase UID): undefined
- email: admin@canva.com
- aud (audience): undefined
- iss (issuer): undefined
Failed to verify Firebase token, trying JWT: Firebase ID token has no "kid" claim. See https://firebase.google.com/docs/auth/admin/verify-id-tokens for details on how to retrieve an ID token.
Custom token decode - important fields:
- sub (Firebase UID): undefined
- email: admin@canva.com
- aud (audience): undefined
- iss (issuer): undefined
Failed to verify Firebase token, trying JWT: Firebase ID token has no "kid" claim. See https://firebase.google.com/docs/auth/admin/verify-id-tokens for details on how to retrieve an ID token.
Custom token decode - important fields:
- sub (Firebase UID): undefined
- email: admin@canva.com
- aud (audience): undefined
- iss (issuer): undefined
Failed to verify Firebase token, trying JWT: Firebase ID token has no "kid" claim. See https://firebase.google.com/docs/auth/admin/verify-id-tokens for details on how to retrieve an ID token.
Custom token decode - important fields:
- sub (Firebase UID): undefined
- email: admin@canva.com
- aud (audience): undefined
- iss (issuer): undefined
Failed to verify Firebase token, trying JWT: Firebase ID token has no "kid" claim. See https://firebase.google.com/docs/auth/admin/verify-id-tokens for details on how to retrieve an ID token.
Custom token decode - important fields:
- sub (Firebase UID): undefined
- email: admin@canva.com
- aud (audience): undefined
- iss (issuer): undefined
Failed to verify Firebase token, trying JWT: Firebase ID token has no "kid" claim. See https://firebase.google.com/docs/auth/admin/verify-id-tokens for details on how to retrieve an ID token.
Custom token decode - important fields:
- sub (Firebase UID): undefined
- email: admin@canva.com
- aud (audience): undefined
- iss (issuer): undefined
Failed to verify Firebase token, trying JWT: Firebase ID token has no "kid" claim. See https://firebase.google.com/docs/auth/admin/verify-id-tokens for details on how to retrieve an ID token.
3:32:48 PM [express] GET /api/users/locations 304 in 373ms :: ["London","New York","New york office"â€¦
3:32:48 PM [express] GET /api/points/balance 304 in 369ms :: {"balance":0,"userId":11}
3:32:48 PM [express] GET /api/users/departments 304 in 385ms :: ["Engineering","Finance","HR","Inforâ€¦
Birthday users found: 8
Anniversary users found: 2
Total celebrations returning: 10
3:32:48 PM [express] GET /api/celebrations/today 304 in 459ms :: [{"id":2258,"user":{"id":2258,"nameâ€¦
Custom token decode - important fields:
- sub (Firebase UID): undefined
- email: admin@canva.com
- aud (audience): undefined
- iss (issuer): undefined
Failed to verify Firebase token, trying JWT: Firebase ID token has no "kid" claim. See https://firebase.google.com/docs/auth/admin/verify-id-tokens for details on how to retrieve an ID token.
/api/users/me: Returning data for user 11 (Canva Administrator, admin@canva.com)
User isAdmin value: true
Returning 801 users for company 1
3:32:55 PM [express] GET /api/users 304 in 6879ms :: [{"id":16,"username":"brian_lopez","name":"Briaâ€¦
Final user object isAdmin: true
3:32:55 PM [express] GET /api/users/me 304 in 6224ms :: {"id":11,"username":"admin_canva","name":"Caâ€¦
3:32:55 PM [express] GET /api/celebrations/upcoming 304 in 7153ms :: [{"id":2167,"user":{"id":2167,"â€¦
Custom token decode - important fields:
- sub (Firebase UID): undefined
- email: admin@canva.com
- aud (audience): undefined
- iss (issuer): undefined
Failed to verify Firebase token, trying JWT: Firebase ID token has no "kid" claim. See https://firebase.google.com/docs/auth/admin/verify-id-tokens for details on how to retrieve an ID token.
Custom token decode - important fields:
- sub (Firebase UID): undefined
- email: admin@canva.com
- aud (audience): undefined
- iss (issuer): undefined
Failed to verify Firebase token, trying JWT: Firebase ID token has no "kid" claim. See https://firebase.google.com/docs/auth/admin/verify-id-tokens for details on how to retrieve an ID token.
Social microservice: Handling get posts request
3:32:55 PM [express] GET /api/social/stats 304 in 224ms :: {"posts":0,"comments":0,"reactions":0,"reâ€¦
Social microservice: Filtering posts for company 1 (admin@canva.com)
Social microservice: Retrieved 0 posts
3:32:55 PM [express] GET /api/social/posts 304 in 223ms :: []